# 最適化パラメータ（あゆ用）

## スロットル最適化

### 温度制約下での最大スロットル
```
許容スロットル = 基準スロットル × (1 - (温度 - 基準温度) / 温度マージン)

例: 基準50%、基準温度40度、マージン20度、現在55度
許容 = 50 × (1 - (55-40)/20) = 50 × 0.25 = 12.5%
```

### バッテリー残量に応じた制限
```
残量 > 50%: 制限なし
残量 30-50%: 最大80%
残量 20-30%: 最大60%
残量 < 20%: 最大40%
```

## ステアリング最適化

### 速度に応じたステアリング制限
```
高速時: ステアリング角を制限（急旋回防止）
低速時: フルステアリング可

制限率 = 1 - (速度 / 最大速度) × 0.5
```

## PID制御パラメータ
```
出力 = Kp × 誤差 + Ki × 積分 + Kd × 微分

推奨初期値:
- Kp: 0.5〜1.0
- Ki: 0.01〜0.1
- Kd: 0.1〜0.5

チューニング手順:
1. Ki, Kd = 0 でKpを調整
2. 振動したらKdを追加
3. 定常偏差があればKiを追加
```

## 冷却制御
```
ファン速度 = (温度 - 開始温度) / (最大温度 - 開始温度) × 100%

開始温度: 40度
最大温度: 60度
```

## 電力効率最適化
- 急加速を避ける
- 一定速度を維持
- 不要な蛇行を減らす
