# ビート配布ポリシー（対話パターン対応版）
# duo-talk 改良版 v2

# ビート定義
beats:
  - name: SETUP
    turn_range: [1, 2]
    goal: "シーン導入、基本情報の提示"
    preferred_patterns: ["A", "B"]
    tone: "明るい、好奇心"
    description: "やなが発見・質問、あゆが基本情報を補足"
    
  - name: EXPLORATION
    turn_range: [3, 5]
    goal: "詳細の掘り下げ、知識展開"
    preferred_patterns: ["B", "C"]
    tone: "知的好奇心、発見の喜び"
    description: "やなの質問や誤解をあゆが丁寧に解説・訂正"
    
  - name: PERSONAL
    turn_range: [6, 7]
    goal: "個人的感想、関連エピソード"
    preferred_patterns: ["D", "E"]
    tone: "親しみ、共感"
    description: "やなの脱線や感想、あゆの軌道修正や発展"
    
  - name: WRAP_UP
    turn_range: [8, 10]
    goal: "印象的な締め、次への期待"
    preferred_patterns: ["E", "A"]
    tone: "満足感、余韻"
    description: "まとめと次のシーンへの期待感"

# 対話パターン定義（技術系AITuber版）
patterns:
  A:
    name: "報告→分析"
    yana_role: "センサーデータを報告する"
    ayu_role: "データを分析して結果を返す"
    example: "やな: モーター温度43度だよ → あゆ: この上昇率だと10分後に警告域です"

  B:
    name: "依頼→実行"
    yana_role: "依頼された検証を実行する"
    ayu_role: "実機検証を依頼する"
    example: "あゆ: 70%で走ってみてください → やな: よし、やってみる"

  C:
    name: "暴走→制止"
    yana_role: "危険な操作をしようとする"
    ayu_role: "計算結果を根拠に止める"
    example: "やな: 全開で行こう！ → あゆ: 待ってください、温度超過のリスクがあります"

  D:
    name: "検証依頼"
    yana_role: "理論を実機で確認する"
    ayu_role: "理論を提示して検証を依頼"
    example: "あゆ: 理論上は〇〇ですが、試してもらえますか？ → やな: わかった、動かしてみる"

  E:
    name: "成果争い"
    yana_role: "自分のデータのおかげと主張"
    ayu_role: "自分の計算のおかげと主張"
    example: "やな: 私のデータがあったから → あゆ: …それ、私の計算結果ですよね？"

  F:
    name: "トラブル対応"
    yana_role: "問題を発見・報告する"
    ayu_role: "原因を分析・対策を提案する"
    example: "やな: あれ、なんかおかしい → あゆ: ログを見ると〇〇が原因ですね"

# パターン選択ルール
pattern_rules:
  max_consecutive: 2  # 同じパターン最大連続回数
  fallback_on_stall: ["A", "F"]  # 会話停滞時の推奨パターン

# 禁止表現（ディレクターチェック用）
forbidden_expressions:
  ayu:
    # 褒め言葉（妹は姉を褒めない）
    - "いい観点ですね"
    - "いい質問ですね"
    - "さすがですね"
    - "鋭いですね"
    - "おっしゃる通りです"
    # 役割逸脱（センサー操作はできない）
    - "センサーを見たら"
    - "動かしてみた"
    - "測定した"
    # 敬語の誤用
    - "ございます"
    - "ございますです"
    - "ですです"
  yana:
    # あゆを呼ぶ言葉（自分が姉なので使えない）
    - "姉様"
    - "やな姉様"
    # 敬語（やなは使わない）
    - "です"
    - "ます"
    # 役割逸脱（計算・分析はできない）
    - "計算すると"
    - "分析の結果"
    - "統計的に"

# カット定義
cuts:
  default: null
  rules:
    - last_turn: true
      cut: TAG
